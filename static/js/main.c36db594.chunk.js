(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{41:function(e,t,n){},42:function(e,t,n){},44:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),c=n.n(r),s=n(32),o=n.n(s),i=(n(41),n(42),n(43),n(2)),l=n(15),u=n(10),j=n(8),d=(n(44),n.p+"static/media/pokeball.75633fe7.png"),b=Object(r.createContext)({token:null,setToken:function(){}}),m=n(16),f=n.n(m),h=f.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",f.a.stopTimer),e.addEventListener("mouseleave",f.a.resumeTimer)}});function O(){return{user:"",password:""}}var p=function(){var e=Object(r.useState)(O),t=Object(j.a)(e,2),n=t[0],c=t[1],s=Object(r.useContext)(b).setToken,o=Object(i.g)();function m(e){var t=e.target,a=t.value,r=t.name;c(Object(u.a)(Object(u.a)({},n),{},Object(l.a)({},r,a)))}return Object(a.jsxs)("div",{className:"login-form",children:[Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=function(e){var t=e.user,n=e.password;return"admin"===t&&"admin"===n?{token:"1234"}:{error:"usuario ou senha inv\xe1lido"}}(n).token;if(t)return s(t),h.fire({icon:"success",title:"Logado com Sucesso"}),o.push("/home");c(O),h.fire({icon:"error",title:"Usuario ou Senha Incorretos"})},children:[Object(a.jsx)("div",{className:"avatar",children:Object(a.jsx)("img",{src:d,alt:"Avatar"})}),Object(a.jsx)("h2",{className:"text-center",children:"Login"}),Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)("input",{type:"text",className:"form-control",name:"user",placeholder:"Usu\xe1rio",required:"required",onChange:m,value:n.user})}),Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)("input",{type:"password",className:"form-control",name:"password",placeholder:"Senha",required:"required",onChange:m,value:n.password})}),Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)("button",{type:"submit",className:"btn btn-primary btn-lg btn-block",children:"Entrar"})})]}),Object(a.jsxs)("p",{className:"text-center small",children:["N\xe3o possui conta? ",Object(a.jsx)("a",{href:"/",children:"Cadastre-se"})]})]})},x=n(14),v=n.n(x),g=n(22),N=(n(51),n(52),n.p+"static/media/logo.6e223bd2.png"),k=n(9),w=function(e){return Object(a.jsxs)("div",{className:"header",children:[Object(a.jsx)(k.b,{to:"/home",className:"logo",children:Object(a.jsx)("img",{className:"logo",src:N,alt:"logo"})}),Object(a.jsxs)("div",{className:"header-left",children:[Object(a.jsx)(k.b,{to:"/home",children:"Pokemons"}),Object(a.jsx)(k.b,{to:"/favorites",children:"Favoritos"})]}),Object(a.jsx)("div",{className:"header-right",children:Object(a.jsx)(k.b,{to:"/",children:"Sair"})})]})},y=(n(53),function(){return Object(a.jsx)("footer",{className:"footer",children:Object(a.jsx)("span",{children:Object(a.jsx)("strong",{children:"Pokedex"})})})}),S=function(e){return Object(a.jsxs)("div",{className:"template-main",children:[Object(a.jsx)(w,Object(u.a)({},e)),Object(a.jsx)("main",{className:"content container-fluid",children:Object(a.jsx)("div",{className:"p-3 mt-3 main-card",children:e.children})}),Object(a.jsx)(y,{})]})},C=(n(54),n(34)),P=n(11),E=n.n(P),I=function(e){function t(e){return e.charAt(0).toUpperCase()+e.slice(1)}return Object(a.jsxs)("div",{className:"card text-center m-3 bg-black",children:[Object(a.jsx)("img",{className:"card-img-top card-img",src:e.image,alt:"Imagem de capa do card"}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("h5",{className:"card-title",children:t(e.name)}),Object(a.jsxs)("h5",{className:"card-title",children:["ID: ",e.id]})]}),Object(a.jsxs)("div",{className:"mb-2 stats",children:[e.stats&&e.stats.map((function(e){return Object(a.jsxs)("span",{className:"btn btn-dark",children:[t(e.stat.name)," | ",e.base_stat]})})),Object(a.jsxs)("span",{className:"btn btn-dark",children:["Weight | ",e.weight]})]}),Object(a.jsx)("div",{className:"card-body",children:e.types&&e.types.map((function(e){return Object(a.jsx)("span",{className:"btn btc bt-".concat(e.type.name),children:t(e.type.name)})}))}),Object(a.jsx)("div",{className:"favorite",children:Object(a.jsx)("button",{onClick:function(){return n=e,void E.a.post("http://localhost:3001/favorites",n).then((function(e){h.fire({icon:"success",title:"".concat(t(e.data.name)," adicionado aos favoritos")})})).catch((function(e){500===e.response.status?h.fire({icon:"error",title:"Pokemon J\xe1 Adicionado aos Favoritos"}):e.request?h.fire({icon:"error",title:"Erro Request"}):h.fire({icon:"error",title:"".concat(e.message)})}));var n},className:"btn bt-favorite mb-2",children:Object(a.jsx)(C.a,{})})})]})},q=(n(72),function(){var e={listPokemons:{count:"",next:"",previous:"",results:[]},pokemonsDetails:[]},t=Object(r.useState)(e),n=Object(j.a)(t,2),c=n[0],s=n[1],o=function(e){return Promise.all(e.results.map(function(){var e=Object(g.a)(v.a.mark((function e(t){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(t.url);case 2:return n=e.sent,a={name:n.data.name,id:n.data.id,stats:n.data.stats,weight:n.data.weight,image:n.data.sprites.other.dream_world.front_default,types:n.data.types},e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},i=Object(r.useCallback)(function(){var e=Object(g.a)(v.a.mark((function e(t){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,E.a.get(t);case 4:return n=e.sent.data,e.next=7,o(n);case 7:a=e.sent,s({listPokemons:n,pokemonsDetails:a}),window.scrollTo(0,0);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[s]);Object(r.useEffect)((function(){i("https://pokeapi.co/api/v2/pokemon/?limit=12")}),[i]);return Object(a.jsxs)(S,{children:[Object(a.jsx)("div",{className:"cards",children:function(){var e=c.pokemonsDetails;return e&&e.map((function(e){return Object(a.jsx)(I,{name:e.name,id:e.id,stats:e.stats,weight:e.weight,image:e.image,types:e.types},e.id)}))}()}),Object(a.jsxs)("div",{className:"actions",children:[Object(a.jsx)("button",{className:"btn btn-dark m-1",onClick:function(){return i(c.listPokemons.previous)},children:"Anterior"}),Object(a.jsx)("button",{className:"btn btn-dark m-1",onClick:function(){return i(c.listPokemons.next)},children:"Pr\xf3ximo"})]})]})}),J=n(17),T=n.n(J),D={};try{if(!window.localStorage)throw Error("no local storage");D.set=function(e,t){return localStorage.setItem(e,JSON.stringify(t))},D.get=function(e){var t=localStorage.getItem(e);try{return JSON.parse(t)}catch(n){return null}},D.remove=function(e){return localStorage.removeItem(e)}}catch(R){D.set=T.a.set,D.get=T.a.getJSON,D.remove=T.a.remove}var A=D;var L=function(e){var t=e.children,n=function(e){var t=Object(r.useState)((function(){return A.get(e)})),n=Object(j.a)(t,2),a=n[0],c=n[1];return[a,Object(r.useCallback)((function(t){A.set(e,t),c(t)}),[e]),Object(r.useCallback)((function(){A.remove(e),c(void 0)}),[e])]}("token"),c=Object(j.a)(n,2),s=c[0],o=c[1];return Object(a.jsx)(b.Provider,{value:{token:s,setToken:o},children:t})},B=n(35),U=function(e){var t=e.component,n=Object(B.a)(e,["component"]),c=Object(r.useContext)(b).token;return Object(a.jsx)(i.b,Object(u.a)(Object(u.a)({},n),{},{render:function(e){return c?Object(a.jsx)(t,Object(u.a)({},n)):Object(a.jsx)(i.a,{to:{pathname:"/",state:{from:e.location}}})}}))},_=(n(73),function(){var e=Object(r.useState)([]),t=Object(j.a)(e,2),n=t[0],c=t[1],s=Object(r.useCallback)((function(){E.a.get("http://localhost:3001/favorites").then((function(e){c(e.data)}))}),[c]);Object(r.useEffect)((function(){s()}),[s]);return Object(a.jsx)(S,{children:Object(a.jsx)("div",{className:"cards",children:n&&n.map((function(e){return Object(a.jsx)(I,{name:e.name,id:e.id,stats:e.stats,weight:e.weight,image:e.image,types:e.types},e.id)}))})})}),F=function(){return Object(a.jsx)(k.a,{children:Object(a.jsx)(L,{children:Object(a.jsxs)(i.d,{children:[Object(a.jsx)(i.b,{exact:!0,path:"/",component:p}),Object(a.jsx)(U,{path:"/home",component:q}),Object(a.jsx)(U,{path:"/favorites",component:_}),Object(a.jsx)(i.a,{from:"*",to:"/"})]})})})};var M=function(){return Object(a.jsx)("div",{className:"app",children:Object(a.jsx)(F,{})})};o.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(M,{})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.c36db594.chunk.js.map